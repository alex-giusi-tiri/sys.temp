# https://unix.stackexchange.com/questions/167058/how-to-round-floating-point-numbers-in-shell

{ sensors -u | sed --silent --expression='/^[[:blank:]]*temp.*_input:[[:blank:]]*/{x;p;x;p;};' --expression='x;' - | sed --expression='s/^[[:blank:]].*:[[:blank:]]*//' - | sed --expression='/[^:]$/s/$/;/' - | tr --delete '\n' | tr ';' '\n'; lsblk --nodeps --list --noheadings --output NAME | sed --expression='s#^#/dev/#' - | xargs sudo hddtemp --quiet --unit=C | sed --expression='s/:.*:[[:blank:]]*/:/' --expression='s/Â°//g' - | sed --silent --expression='/:[[:digit:]+CFK]/p' - | sed --silent --expression='s/ or //gp' - | sed --silent 's/[[:digit:]]*[FK]//p' - | sed --expression='s/[CFK]$//' -; } | sort --reverse --numeric-sort --field-separator=':' --key=2 - | xargs --delimiter='\n' --max-args=1 | awk -F: '{system("LC_ALL=C $(which printf) \"[%s:%.0fC]\n\" \"" $1 "\" \"" $2 "\"");}';
